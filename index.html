<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A universal client for depositing and accessing research data
    anywhere. Currently supported services are zenodo and figshare.">
<title>A universal client for depositing and accessing research data
    anywhere • deposits</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A universal client for depositing and accessing research data
    anywhere">
<meta property="og:description" content="A universal client for depositing and accessing research data
    anywhere. Currently supported services are zenodo and figshare.">
<meta property="og:image" content="https://docs.ropensci.org/deposits/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">deposits</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.1.057</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="articles/deposits.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/deposits-R6.html">The deposits R6 client</a>
    <a class="dropdown-item" href="articles/frictionless.html">frictionless workflows with deposits</a>
    <a class="dropdown-item" href="articles/install-setup.html">Installation and Setup</a>
    <a class="dropdown-item" href="articles/metadata.html">deposits metadata</a>
    <a class="dropdown-item" href="articles/versioning.html">Publication and versioning</a>
    <a class="dropdown-item" href="articles/workflow.html">Example deposits workflow</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropenscilabs/deposits/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="deposits">deposits<a class="anchor" aria-label="anchor" href="#deposits"></a>
</h1>
</div>
<!-- badges: start -->
<p>The deposits R package is a universal client for depositing and accessing research data in a variety of online deposition services. Currently supported services are <a href="https://zenodo.org" class="external-link">zenodo</a> and <a href="https://figshare.com" class="external-link">figshare</a>. These two systems have fundamentally different interfaces (“API”s, or Application Programming Interfaces), and access to these and indeed all deposition services has traditionally been enabled through individual software clients. The deposits package aims to be a universal client offering access to a variety of deposition services, without users having to know any specific details of the APIs for each service.</p>
<p>The deposits package works seamlessly with <a href="https://frictionlessdata.io/" class="external-link">the “frictionless” data workflow</a>, to enable unified documentation of all aspects of datasets in one place. Instructions for installing and setting up the package are in the <a href="https://docs.ropensci.org/deposits/articles/install-setup.html">installation vignette</a>. This README gives a brief overview of package usage, with more detail in the <a href="https://docs.ropensci.org/deposits/articles/deposits.html">introductory vignette</a>. For those who prefer to jump straight in to a workflow, there is also a deposits <a href="https://docs.ropensci.org/deposits/articles/workflow.html">workflow vignette</a> demonstrating a full workflow from data generation and documentation to publication.</p>
<div class="section level2">
<h2 id="data-repositories">Data Repositories<a class="anchor" aria-label="anchor" href="#data-repositories"></a>
</h2>
<p>The list of data repositories currently supported is accessible by the <code><a href="reference/deposits_services.html">deposits_services()</a></code> function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/deposits/">deposits</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/deposits_services.html">deposits_services</a></span> <span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">##             name                           docs                    api_base_url</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 1         zenodo https://developers.zenodo.org/         https://zenodo.org/api/</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 zenodo-sandbox https://developers.zenodo.org/ https://sandbox.zenodo.org/api/</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 3       figshare     https://docs.figshare.com/    https://api.figshare.com/v2/</span></span></code></pre></div>
<p>The <a href="https://zenodo.org" class="external-link"><code>zenodo</code></a> “sandbox” environment offers an ideal environment for testing the functionality of this package.</p>
</div>
<div class="section level2">
<h2 id="the-frictionless-data-workflow">The “frictionless” data workflow<a class="anchor" aria-label="anchor" href="#the-frictionless-data-workflow"></a>
</h2>
<p>Prior to describing the deposits workflow, it is useful to understand the <a href="https://frictionlessdata.io/" class="external-link">“frictionless” data workflow</a>, which provides a standardised way to document the contents and structure of data files through a separate metadata file. The deposits package links directly with <a href="https://docs.ropensci.org/frictionless" class="external-link">rOpenSci’s <code>frictionless</code> package</a> for writing, editing, and reading frictionless metadata files.</p>
<p>The deposits package nevertheless aims to make this integration as seamless and painless as possible. No knowledge of the frictionless workflow is necessary, and the deposits workflow should “just work” in many cases, appropriately constructing frictionless metadata files and uploading them to deposits services. It is of course also possible to use the deposits package without frictionless metadata.</p>
</div>
<div class="section level2">
<h2 id="the-deposits-workflow">The deposits workflow<a class="anchor" aria-label="anchor" href="#the-deposits-workflow"></a>
</h2>
<p>We now provide a brief overview of the deposits workflow. A more complete description is given in the <a href="https://docs.ropensci.org/deposits/articles/deposits.html">main package vignette</a>, and demonstrated step-by-step in <a href="https://docs.ropensci.org/deposits/articles/workflow.html">the workflow vignette</a>. The deposits package uses <a href="https://github.com/r-lib/R6" class="external-link">the <code>R6</code> package</a> to create <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html">a <code>depositsClient</code></a> used to call all methods needed in a deposits workflow. A <a href="https://docs.ropensci.org/deposits/articles/deposits-R6.html">separate vignette</a> describes the <code>R6</code> system for those unfamiliar with it.</p>
<p>A typical deposits workflow, and associated methods, involves the following steps:</p>
<ol style="list-style-type: decimal">
<li>Create a new deposits client</li>
<li>Fill the client with metadata, either as part of Step 1 through using the <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-new-"><code>new()</code> method</a>, or afterward by using the <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-depositsClient-deposit_fill_metadata"><code>deposit_fill_metadata()</code></a> method;</li>
<li>Create a new deposit on the nominated service using the <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-deposit-new-"><code>deposit_new()</code></a> method; and</li>
<li>Upload files for the deposit using the <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-deposit-upload-file-"><code>deposit_upload_file()</code></a> method.</li>
</ol>
<p>The following sections describe each of these steps in more detail.</p>
<div class="section level3">
<h3 id="step-1-create-a-new-client">Step 1: Create a new client<a class="anchor" aria-label="anchor" href="#step-1-create-a-new-client"></a>
</h3>
<p>All deposits operations start with a client constructed with the <code>new()</code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/depositsClient.html">depositsClient</a></span><span class="op">$</span><span class="fu">new</span> <span class="op">(</span>service <span class="op">=</span> <span class="st">"zenodo"</span>, sandbox <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="va">cli</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;deposits client&gt;</span></span>
<span><span class="co">#&gt;  deposits service : zenodo</span></span>
<span><span class="co">#&gt;            sandbox: TRUE</span></span>
<span><span class="co">#&gt;          url_base : https://sandbox.zenodo.org/api/</span></span>
<span><span class="co">#&gt;  Current deposits : &lt;none&gt;</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt;    hostdata : &lt;none&gt;</span></span>
<span><span class="co">#&gt;    metadata : &lt;none&gt;</span></span></code></pre></div>
<p>The upper section of information shown by calling <code>print (cli)</code> to print the client describes general information, and aspects of the specified service, and the profile of the user (identified through the locally-stored token, as described in <a href="https://docs.ropensci.org/deposits/articles/install-setup.html#setup-api-tokens">the “Installation and Setup” vignette</a>). The lower section contains information on the current deposit held within the client. A new client initially contains no information on a deposit, and so these lower sections are empty.</p>
<p>The code above demonstrates how <code>R6</code> objects work, through calling “methods” or functions on the main “object” via the <code>$</code> symbol. The “new” method must be called on <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html">a <code>depositsClient</code> object</a>. From that point on, all other methods are called on that object itself. For example, the following calls lists all methods implemented by the client:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span><span class="op">$</span><span class="fu">deposits_methods</span> <span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of methods for a deposits client:</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt;    - deposit_add_resource</span></span>
<span><span class="co">#&gt;    - deposit_delete</span></span>
<span><span class="co">#&gt;    - deposit_delete_file</span></span>
<span><span class="co">#&gt;    - deposit_download_file</span></span>
<span><span class="co">#&gt;    - deposit_embargo</span></span>
<span><span class="co">#&gt;    - deposit_fill_metadata</span></span>
<span><span class="co">#&gt;    - deposit_new</span></span>
<span><span class="co">#&gt;    - deposit_prereserve_doi</span></span>
<span><span class="co">#&gt;    - deposit_publish</span></span>
<span><span class="co">#&gt;    - deposit_retrieve</span></span>
<span><span class="co">#&gt;    - deposit_service</span></span>
<span><span class="co">#&gt;    - deposit_update</span></span>
<span><span class="co">#&gt;    - deposit_upload_file</span></span>
<span><span class="co">#&gt;    - deposit_version</span></span>
<span><span class="co">#&gt;    - deposits_list</span></span>
<span><span class="co">#&gt;    - deposits_methods</span></span>
<span><span class="co">#&gt;    - deposits_search</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt;  see `?depositsClient` for full details of all methods.</span></span></code></pre></div>
<p>All of the methods listed by <a href="thos://docs.ropensci.org/deposits/reference/depositsClient.html#method-deposits-methods-"><code>cli$deposits_methods()</code></a> then work similarly, by calling <code>cli$&lt;method&gt;(&lt;parameters&gt;)</code>. Note that R6 functions are called directly on the client, with the object itself (<code>cli</code>) updated by the call. For example, <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-deposit-fill-metadata-">the <code>deposit_fill_metadata()</code> method</a> described below can be used to specify metadata for a deposit. This works by simply calling,</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span><span class="op">$</span><span class="fu">deposit_fill_metadata</span> <span class="op">(</span><span class="va">metadata</span><span class="op">)</span></span></code></pre></div>
<p>The <code>cli</code> object is then updated by this call, without needing to be assigned to a return value (so there is no need to use <code>cli &lt;- cli$&lt;method&gt;</code>).</p>
</div>
<div class="section level3">
<h3 id="step-2-fill-client-with-metadata">Step 2: Fill client with metadata<a class="anchor" aria-label="anchor" href="#step-2-fill-client-with-metadata"></a>
</h3>
<p>The <em>metadata</em> of a deposit describe the nature and properties of the data being deposited. A deposit is first created by uploading metadata to a deposits service; only then can actual data be uploaded and associated with the deposit described by the metadata. The deposits package works with two main types of metadata:</p>
<ol style="list-style-type: decimal">
<li>Metadata which describe a deposit and associated properties, such as author names and affiliations, deposit titles and descriptions, dates, keywords, links to other deposits or publications, and many other terms.</li>
<li>Frictionless metadata which describe the actual contents of the data to be deposited. These kinds of metadata are (optionally) generated and (always) handled here by <a href="https://docs.ropensci.org/frictionless" class="external-link">the <code>frictionless</code> package</a>.</li>
</ol>
<p>(Note that there are actually three main types of metadata, as described in the <a href="https://docs.ropensci.org/deposits/articles/deposits.html">introductory vignette</a>, but the third may generally be ignored, and is intended as “read-only” metadata provided by host services.) As explained at the outset, the deposits package can be used without knowing or understanding anything about <a href="https://docs.ropensci.org/frictionless" class="external-link">the <code>frictionless</code> package</a> or <a href="https://frictionlessdata.io" class="external-link">frictionless workflows</a>. Most of this present section therefore concerns the first of these two kinds of metadata, referred to throughout all package documentation as “metadata”. Brief demonstrations are also given of the second kind, to illustrate how the frictionless workflow integrates with the general deposits workflow. These kinds of metadata are always referred to as “frictionless metadata.”</p>
<p>A separate vignette describes in detail <a href="https://docs.ropensci.org/deposits/articles/metadata.html">how to specify and include metadata in a deposits client</a>. This section briefly demonstrates the process. An example of deposits metadata is:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span> <span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"New Title"</span>,</span>
<span>    abstract <span class="op">=</span> <span class="st">"This is the abstract"</span>,</span>
<span>    creator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span> <span class="op">(</span>name <span class="op">=</span> <span class="st">"A. Person"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span> <span class="op">(</span>name <span class="op">=</span> <span class="st">"B. Person"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The “creator” field is a list-of-lists, to allow individual creator entries to have multiple fields in addition to “name”. These data can be used in construction of a new client by passing a <code>metadata</code> argument:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/depositsClient.html">depositsClient</a></span><span class="op">$</span><span class="fu">new</span> <span class="op">(</span></span>
<span>    service <span class="op">=</span> <span class="st">"zenodo"</span>,</span>
<span>    sandbox <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    metadata <span class="op">=</span> <span class="va">metadata</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="va">cli</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;deposits client&gt;</span></span>
<span><span class="co">#&gt;  deposits service : zenodo</span></span>
<span><span class="co">#&gt;            sandbox: TRUE</span></span>
<span><span class="co">#&gt;          url_base : https://sandbox.zenodo.org/api/</span></span>
<span><span class="co">#&gt;  Current deposits : &lt;none&gt;</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt;    hostdata : &lt;none&gt;</span></span>
<span><span class="co">#&gt;    metadata : 3 terms (see 'metadata' element for details)</span></span></code></pre></div>
<p>The “metadata” component of the client now holds 3 terms. Equivalently, metadata can be added to an existing client with <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-depositsClient-deposit_fill_metadata">the <code>deposit_fill_metadata()</code> function</a>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/depositsClient.html">depositsClient</a></span><span class="op">$</span><span class="fu">new</span> <span class="op">(</span>service <span class="op">=</span> <span class="st">"zenodo"</span>, sandbox <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">cli</span><span class="op">$</span><span class="fu">deposit_fill_metadata</span> <span class="op">(</span><span class="va">metadata</span><span class="op">)</span></span></code></pre></div>
<p>At that stage, the metadata are only associated with the local client. The following section describes how to use those metadata to initiate a deposit on an external service.</p>
</div>
<div class="section level3">
<h3 id="step-3-create-a-new-deposit">Step 3: Create a new deposit<a class="anchor" aria-label="anchor" href="#step-3-create-a-new-deposit"></a>
</h3>
<p>The metadata filled with the above steps can then be used to initiate a new deposit on the associated server using <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-deposit-new-">the <code>deposit_new()</code> method</a>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span><span class="op">$</span><span class="fu">deposit_new</span> <span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ID of new deposit : 1065666</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="va">cli</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;deposits client&gt;</span></span>
<span><span class="co">#&gt;  deposits service : zenodo</span></span>
<span><span class="co">#&gt;            sandbox: TRUE</span></span>
<span><span class="co">#&gt;          url_base : https://sandbox.zenodo.org/api/</span></span>
<span><span class="co">#&gt;  Current deposits : &lt;none&gt;</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt;  url_service : https://sandbox.zenodo.org/deposit/1065666</span></span>
<span><span class="co">#&gt;   deposit id : 1065666</span></span>
<span><span class="co">#&gt;     hostdata : list with 14  elements</span></span>
<span><span class="co">#&gt;     metadata : 4 terms (see 'metadata' element for details)</span></span></code></pre></div>
<p>The client now includes several additional elements, notably a “deposit id” (stored in <code>cli$id</code>) giving the unique identifier for the new deposit, and a “hostdata” item with, in this case, 14 elements as specified by the host service. The <code>url_service</code> is the URL for the newly-created deposit. (Viewing in a web browser will require logging in for all private and sandbox deposits). The “metadata” item also includes an additional “identifier” element containing a pre-reserved DOI provided by the deposits service.</p>
</div>
<div class="section level3">
<h3 id="step-4-upload-or-download-files">Step 4: Upload (or download) files<a class="anchor" aria-label="anchor" href="#step-4-upload-or-download-files"></a>
</h3>
<p>A deposit is really about data, not just metadata. Data can be uploaded to a deposit with <a href="https://docs.ropensci.org/deposits/reference/depositsClient.html#method-deposit-upload-file-">the <code>deposit_upload_file()</code> method</a>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span><span class="op">$</span><span class="fu">deposit_upload_file</span> <span class="op">(</span>path <span class="op">=</span> <span class="st">"&lt;path&gt;/&lt;to&gt;/my-data.dat"</span><span class="op">)</span></span></code></pre></div>
<p>Details of files associated with deposits are stored in a <code>data.frame</code> stored as part of the “hostdata” of a deposits client, in the <code>cli$hostdata$files</code> item. Prior to uploading, <code>cli$hostdata$files</code> will be empty, but after uploading it will be a <code>data.frame</code> including one row with an item whose “filename” will be “my-data.dat”.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span><span class="op">$</span><span class="va">hostdata</span><span class="op">$</span><span class="va">files</span></span>
<span><span class="co">#&gt;                           checksum    filename filesize</span></span>
<span><span class="co">#&gt; 1 5955bb96a8fee3bc89549bde9ef9b470 my-data.dat      829</span></span>
<span><span class="co">#&gt;                                     id</span></span>
<span><span class="co">#&gt; 1 618ae9b9-af48-4b86-aa37-7b4e767dccb7</span></span>
<span><span class="co">#&gt;                                                 links.download</span></span>
<span><span class="co">#&gt; 1 https://sandbox.zenodo.org/api/files/&lt;file-hash&gt;/my-data.dat</span></span>
<span><span class="co">#&gt;                                                                links.self</span></span>
<span><span class="co">#&gt; 1 https://sandbox.zenodo.org/api/deposit/depositions/1065666/files/&lt;hash&gt;</span></span></code></pre></div>
<p>The <code>deposit_download_file()</code> function does the reverse:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cli</span><span class="op">$</span><span class="fu">deposit_download_file</span> <span class="op">(</span><span class="st">"my-data.dat"</span><span class="op">)</span></span>
<span><span class="co">#&gt; '/&lt;loca&gt;/&lt;directory&gt;/my-data.dat'</span></span></code></pre></div>
<p>Files are by default downloaded to the current working directory, or elsewhere specified by an additional <code>path</code> parameter. (Note that this method returns the full local path to the downloaded file, unlike most methods for deposit clients, which invisibly return an updated version of the client.)</p>
</div>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that this package is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="contributors">Contributors<a class="anchor" aria-label="anchor" href="#contributors"></a>
</h2>
<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section --><!-- prettier-ignore-start --><!-- markdownlint-disable --><p>All contributions to this project are gratefully acknowledged using the <a href="https://github.com/ropenscilabs/allcontributors" class="external-link"><code>allcontributors</code> package</a> following the <a href="https://allcontributors.org" class="external-link">all-contributors</a> specification. Contributions of any kind are welcome!</p>
<div class="section level3">
<h3 id="code">Code<a class="anchor" aria-label="anchor" href="#code"></a>
</h3>
<table class="table"><tr><td align="center">
<a href="https://github.com/mpadge" class="external-link"> <img src="https://avatars.githubusercontent.com/u/6697851?v=4" width="100px;" alt=""></a><br><a href="https://github.com/ropenscilabs/deposits/commits?author=mpadge" class="external-link">mpadge</a>
</td></tr></table>
</div>
<div class="section level3">
<h3 id="issues">Issues<a class="anchor" aria-label="anchor" href="#issues"></a>
</h3>
<table class="table"><tr>
<td align="center">
<a href="https://github.com/collinschwantes" class="external-link"> <img src="https://avatars.githubusercontent.com/u/6107885?u=414bad1b3dd9499b3dc60180fc411f1fb18de24e&amp;v=4" width="100px;" alt=""></a><br><a href="https://github.com/ropenscilabs/deposits/issues?q=is%3Aissue+author%3Acollinschwantes" class="external-link">collinschwantes</a>
</td>
<td align="center">
<a href="https://github.com/Bisaloo" class="external-link"> <img src="https://avatars.githubusercontent.com/u/10783929?u=38e3754466eaa200e20f0609709467b6331cdfbe&amp;v=4" width="100px;" alt=""></a><br><a href="https://github.com/ropenscilabs/deposits/issues?q=is%3Aissue+author%3ABisaloo" class="external-link">Bisaloo</a>
</td>
<td align="center">
<a href="https://github.com/maelle" class="external-link"> <img src="https://avatars.githubusercontent.com/u/8360597?u=824f03caa87c92420352e3dd9a05470320a67412&amp;v=4" width="100px;" alt=""></a><br><a href="https://github.com/ropenscilabs/deposits/issues?q=is%3Aissue+author%3Amaelle" class="external-link">maelle</a>
</td>
<td align="center">
<a href="https://github.com/joelnitta" class="external-link"> <img src="https://avatars.githubusercontent.com/u/13459362?v=4" width="100px;" alt=""></a><br><a href="https://github.com/ropenscilabs/deposits/issues?q=is%3Aissue+author%3Ajoelnitta" class="external-link">joelnitta</a>
</td>
<td align="center">
<a href="https://github.com/noamross" class="external-link"> <img src="https://avatars.githubusercontent.com/u/571752?v=4" width="100px;" alt=""></a><br><a href="https://github.com/ropenscilabs/deposits/issues?q=is%3Aissue+author%3Anoamross" class="external-link">noamross</a>
</td>
<td align="center">
<a href="https://github.com/peterdesmet" class="external-link"> <img src="https://avatars.githubusercontent.com/u/600993?v=4" width="100px;" alt=""></a><br><a href="https://github.com/ropenscilabs/deposits/issues?q=is%3Aissue+author%3Apeterdesmet" class="external-link">peterdesmet</a>
</td>
</tr></table>
<!-- markdownlint-enable --><!-- prettier-ignore-end --><!-- ALL-CONTRIBUTORS-LIST:END -->
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ropenscilabs/deposits/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropenscilabs/deposits/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing deposits</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://mpadge.github.io/" class="external-link">Mark Padgham</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2172-5265" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/deposits" class="external-link"><img src="https://ropensci.r-universe.dev/badges/deposits" alt="deposits status badge"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
